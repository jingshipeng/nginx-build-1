(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230886"],{ed4e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header-index-wide"},[a("a-card",{attrs:{bordered:!1}},[a("s-table",{ref:"table",attrs:{size:"default",rowKey:"key",showPagination:"auto",orignColumns:t.orignColumns,data:t.loadData,showQuickJumper:!0,defaultColumnWidth:200,pageSize:15,bordered:""},scopedSlots:t._u([{key:"action",fn:function(e,r){return a("span",{},[a("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.showDrawer(r)}}},[t._v("\n          详情\n        ")])],1)}},{key:"filterDropdown",fn:function(e){var r=e.setSelectedKeys,i=e.selectedKeys,s=e.confirm,l=e.clearFilters,n=e.column;return a("div",{staticClass:"custom-filter-dropdown"},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => searchInput = c"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"按 "+n.title+" 搜索",value:i[0]},on:{change:function(t){return r(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(n.dataIndex,i,s)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(n.dataIndex,i,s)}}},[t._v("查询")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(n.dataIndex,l)}}},[t._v("重置")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}}])}),a("a-drawer",{attrs:{title:"订单详情",placement:"right",closable:!0,visible:t.visible,width:1e3},on:{close:t.onClose}},[a("div",[[a("a-card",{attrs:{bordered:!1}},[a("detail-list",{attrs:{title:"订单信息"}},[a("detail-list-item",{attrs:{term:"运营商"}},[t._v(t._s(t.detail.comName))]),a("detail-list-item",{attrs:{term:"加盟商"}},[t._v(t._s(t.detail.brandName))]),a("detail-list-item",{attrs:{term:"门店"}},[t._v(t._s(t.detail.storeName))]),a("detail-list-item",{attrs:{term:"订单状态"}},[t._v(t._s(t.detail.orderStateStr))]),a("detail-list-item",{attrs:{term:"支付方式"}},[t._v(t._s(t.detail.payTypeStr))]),a("detail-list-item",{attrs:{term:"支付状态"}},[t._v(t._s(t.detail.payStateStr))]),a("detail-list-item",{attrs:{term:"订单来源"}},[t._v(t._s(t.detail.originStr))]),a("detail-list-item",{attrs:{term:"订单编号"}},[t._v(t._s(t.detail.orderNum))]),a("detail-list-item",{attrs:{term:"下单时间"}},[t._v(t._s(t.detail.addTime))]),a("detail-list-item",{attrs:{term:"订单备注"}},[t._v(t._s(t.detail.remark))])],1),a("a-divider",{staticStyle:{"margin-bottom":"10px"}}),a("detail-list",{attrs:{title:"会员信息"}},[a("detail-list-item",{attrs:{term:"名称"}},[t._v(t._s(t.detail.nickname))]),a("detail-list-item",{attrs:{term:"手机号"}},[t._v(t._s(t.detail.mobile))])],1),a("a-divider",{staticStyle:{"margin-bottom":"10px"}}),a("detail-list",{attrs:{title:"收货人信息"}},[a("detail-list-item",{attrs:{term:"收货人"}},[t._v(t._s(t.detail.name))]),a("detail-list-item",{attrs:{term:"联系电话"}},[t._v(t._s(t.detail.tel))]),a("detail-list-item",{attrs:{term:"收货地址"}},[t._v(t._s(t.detail.address))])],1),a("a-divider",{staticStyle:{"margin-bottom":"10px"}}),a("detail-list",{attrs:{title:"账单明细"}},[a("detail-list-item",{attrs:{term:"支付方式"}},[t._v(t._s(t.detail.paymentTypeStr))]),a("detail-list-item",{attrs:{term:"第三方支付类型"}},[t._v(t._s(t.detail.paymentThirdTypeStr))]),a("detail-list-item",{attrs:{term:"支付渠道"}},[t._v(t._s(t.detail.paymentChannelStr))]),a("detail-list-item",{attrs:{term:"支付时间"}},[t._v(t._s(t.detail.payTime))]),a("detail-list-item",{attrs:{term:"商品金额"}},[t._v(t._s(t.detail.totalAmountCny))]),a("detail-list-item",{attrs:{term:"配送费"}},[t._v(t._s(t.detail.postage))]),a("detail-list-item",{attrs:{term:"优惠金额"}},[t._v(t._s(t.detail.deduct))]),a("detail-list-item",{attrs:{term:"优惠类型"}},[t._v(t._s(t.detail.deductStr))]),a("detail-list-item",{attrs:{term:"实付金额"}},[t._v(t._s(t.detail.realAmount))])],1),a("div",{staticClass:"title"},[t._v("商品详单")]),a("a-table",{staticStyle:{"margin-bottom":"24px"},attrs:{"row-key":"id",columns:t.GoodsColumns,data:t.GoodsData}})],1)]],2)])],1)],1)},i=[],s=(a("7f7f"),a("2af9")),l=a("b775");function n(){return Object(l["b"])({url:"/v1/order/colunms",method:"get"})}function d(t){return Object(l["b"])({url:"/v1/order",method:"get",params:t})}function o(t){return Object(l["b"])({url:"/v1/order/getOrderDetail",method:"get",params:t})}var m,c,u=a("fa43"),p=u["a"],v=p,y=a("2877"),h=Object(y["a"])(v,m,c,!1,null,null,null),_=h.exports,f=_.Item,S={name:"MchOrderList",components:{STable:s["h"],Ellipsis:s["e"],DetailList:_,DetailListItem:f},data:function(){var t=this;return{GoodsColumns:{},visible:!1,searchInput:null,queryParam:{},orignColumns:[],loadData:function(e){return d(Object.assign(e,t.queryParam)).then(function(t){return t})},selectedRowKeys:[],selectedRows:[],platformOptions:[],detail:{}}},computed:{},filters:{},created:function(){var t=this;n().then(function(e){e.data.map(function(e){e.scopedSlots&&e.scopedSlots.filterDropdown&&"filterDropdown"===e.scopedSlots.filterDropdown&&(e.onFilterDropdownVisibleChange=function(e){e&&setTimeout(function(){t.searchInput.focus()},0)})}),e.data.push({title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},enableCustomRender:!0}),t.orignColumns=e.data})},methods:{handleSearch:function(t,e,a){a(),this.queryParam[t]=e[0]},handleReset:function(t,e){e(),this.queryParam[t]=""},handleOk:function(){this.$refs.table.refresh()},showDrawer:function(t){var e=this,a=t.orderId,r={};r.orderStateStr=t.orderStateStr,r.payTypeStr=t.payTypeStr,r.payStateStr=t.payStateStr,r.originStr=t.originStr,r.orderNum=t.orderNum,r.addTime=t.addTime,r.remark=t.remark,r.totalAmountCny=t.totalAmountCny+t.deduct,r.deduct=t.deduct,r.deductStr=t.deductStr,r.realAmount=t.totalAmountCny,r.payTime=t.payTime,o({orderId:a}).then(function(t){var a=t.data[0];r.comName=a.comName,r.brandName=a.brandName,r.storeName=a.storeName,r.name=a.name,r.tel=a.tel,r.address=a.address,r.nickname=a.nickname,r.mobile=a.mobile,r.postage=a.postage,r.paymentTypeStr=a.paymentTypeStr,r.paymentThirdTypeStr=a.paymentThirdTypeStr,r.paymentChannelStr=a.paymentChannelStr,e.detail=r,e.visible=!0})},onClose:function(){this.visible=!1}}},b=S,g=Object(y["a"])(b,r,i,!1,null,null,null);e["default"]=g.exports}}]);